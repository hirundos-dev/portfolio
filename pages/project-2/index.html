<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Palka UI-kit / Портфолио Андрей Лынник</title>
    <link rel="icon" type="image/png" href="../../images/favicon-inverted.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../css/colors.css" />
    <link rel="stylesheet" href="../../css/normalize.css" />
    <link rel="stylesheet" href="../../css/settings.css" />
    <link rel="stylesheet" href="../../css/layout.css" />
    <link rel="stylesheet" href="../../css/ids.css" />
    <link rel="stylesheet" href="../../css/gallery.css" />
    <link rel="stylesheet" href="../../css/navbar.css" />
  </head>

  <body class="ids">
     <header class="topbar">
      <div class="topbar__container">
        <div class="topbar__name"><a style="color: inherit; text-decoration: none; " href="../../index.html">Андрей Лынник</a></div>
       <!--  <div class="topbar__telegram">
          <a href="https://t.me/hirundos" target="_blank" rel="noopener noreferrer">Телеграм</a>-->
        </div>
      </div>
    </header>

    <main>
      <div class="ids__wrapper">
        <div class="section " id="intro">
          <div class="ids__space L"></div>
          <div class="ids__text-width">
            <ids-nav-item id="intro" label="Интро">
              <h2>Palka UI-kit — библиотека компонентов для&#160;ускорения работы над&#160;проектами</h2>
              </ids-nav-item>
            <div class="ids__space S"></div>

          
            <ids-navbar></ids-navbar>
            </div>
          <figure>
           
                <img src="assets/main.png" style="border-radius: 1em;">
            
            </figure>
        </div>


        <ids-nav-item id="info" label="Описание"></ids-nav-item>
        <div class="section sleepy sleeping" id="block-1">
          <div class="ids__space L"></div>
          <div class="ids__text-width">
            
            <h3>Контекст</h3>
            <p>При работе над каждым новым проектом тратишь время на создание элементов интерфейса и стилей с нуля. Если пытаешься использовать чужие готовые компоненты, сталкиваешься со сложностями начиная от нейминга и заканчивая структурой. В итоге тратишь время впустую.</p>
            <div class="ids__space L"></div> 
            <h3>Идея</h3>
            <p>А что если собрать собственный UI-кит с универсальными правилами и возможностью масштабирования, можно ли сократить время работы над проектом?</p>
            <div class="ids__space L"></div> 
            <h3>Что было сделано</h3>
            <p>Провел анализ действующих дизайн-систем и доступных UI-китов из Figma Community, по результатам которого появилось понимание примерной структуры UI-кита.</p>
            <div class="ids__space S"></div>
            <div class="ids__sequence XL gap-M">

              <div class="ids__sequence-item">
                <h5>Основные элементы:</h5>
                <ul>
                  <li>цвет;</li>
                  <li>типографика;</li>
                  <li>иконки;</li>
                  <li>компоненты.</li>
                </ul>
              </div>
          
              <div class="ids__sequence-item">
                <h5>Дополнительные элементы:</h5>
                <ul>
                  <li>тени;</li>
                  <li>расстояния и скругления;</li>
                  <li>сетка;</li>
                  <li>плагины.</li>
                </ul>
              </div>
            </div> 
          </div>
        </div>
          
        <div class="section sleepy sleeping" id="block-2">
          <div class="ids__space L"></div> 
          <div class="ids__text-width ">
            
            <h3>Результат</h3>
            <p>Понравилось название Palka. Палка с древних времен самый доступный предмет, её можно использовать в качестве инструмента, оружия или игрушки. Это название коррелирует с концепцией проекта — простота и универсальность.<br><br>Теперь прототипирование, создание стилей и кастомизация компонентов для проекта происходит быстрее, минимальная разница составила 2 часа.</p>
           <div class="ids__space"></div>
          <a href="https://www.figma.com/community/file/1236297009994552407" target="_BLANK">Palka UI в Community Figma</a></div>
        </div>
          

<ids-nav-item id="Images" label="Картинки"></ids-nav-item>
<div class="section sleepy sleeping" id="block-3">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Цветовая система</h5>
          <p>Поскольку UI-кит подразумевается как универсальный инструмент, его цветовая система должна подстраиваться и масштабироваться под каждый проект с минимальными затратами по времени.</p></div>
            <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-01.avif" style="border-radius: 1em;">
          </figure>
</div>
      
<div class="section sleepy sleeping" id="block-4">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Типографика</h5>
          <p>Текстовые стили составляем от самого крупного кегля до маленького.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-02.png" style="border-radius: 1em;">
          </figure>
</div>

<div class="section sleepy sleeping" id="block-5">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Иконки</h5>
          <p>Используем open-source интерфейсные иконки Feathericons. Если не подойдет, то есть много других хороших open-source иконок.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-03.png" style="border-radius: 1em;">
          </figure>
</div>

<div class="section sleepy sleeping" id="block-6">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Компоненты</h5>
          <p>Выбрал основные элементы интерфейса, которые встречаются в большинстве проектов.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-04.webp" style="border-radius: 1em;">
          </figure>
</div>

<div class="section sleepy sleeping" id="block-7">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Остальное</h5>
          <p>Также определил выделил основные правила для теней, расстояний, скруглений и сетки.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-05.webp" style="border-radius: 1em;">
          </figure>
</div>


        <div class="ids__space XL"></div>
        <div class="project-navigation">
  <a href="..\project-1\index.html" class="project-card prev">
    <div class="label">
    <svg class="" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path transform="rotate(180 12 12)" d="M13.4681 6.25911C13.1437 6.579 13.1132 7.08447 13.3792 7.43913L13.4591 7.53187L16.95 11.1L4.9 11.1C4.40294 11.1 4 11.5029 4 12C4 12.4588 4.34334 12.8375 4.78711 12.893L4.9 12.9H16.95L13.4591 16.4681C13.1392 16.7926 13.116 17.2984 13.3869 17.6493L13.4681 17.7409C13.7926 18.0608 14.2985 18.084 14.6493 17.8131L14.7409 17.7319L19.7409 12.6319C20.0576 12.3107 20.084 11.8109 19.8201 11.4599L19.7409 11.3681L14.7409 6.26813C14.3919 5.91418 13.8221 5.91014 13.4681 6.25911Z"></path></svg>
     
      Предыдущий проект
    </div>
    <div class="project-name">Медрег39</div>
  </a>

  <a href="../../index.html" class="project-card next">
    <div class="label">
      На главную
      <svg class="" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.4681 6.25911C13.1437 6.579 13.1132 7.08447 13.3792 7.43913L13.4591 7.53187L16.95 11.1L4.9 11.1C4.40294 11.1 4 11.5029 4 12C4 12.4588 4.34334 12.8375 4.78711 12.893L4.9 12.9H16.95L13.4591 16.4681C13.1392 16.7926 13.116 17.2984 13.3869 17.6493L13.4681 17.7409C13.7926 18.0608 14.2985 18.084 14.6493 17.8131L14.7409 17.7319L19.7409 12.6319C20.0576 12.3107 20.084 11.8109 19.8201 11.4599L19.7409 11.3681L14.7409 6.26813C14.3919 5.91418 13.8221 5.91014 13.4681 6.25911Z">
        </path></svg>
    </div>
    <div class="project-name">Портфолио Андрей Лынник</div>
  </a>
</div>
      
    </div>
    </main>
<script src="../../lib/kaliningrad-time-weather.js" defer></script>

     <footer class="footer">
  <div class="footer__container">
    <div class="footer__left">
      <h4 style="margin-bottom: 0;">Андрей Лынник</h4>
      <p>Ник в тг — <a href="https://t.me/hirundos" target="_blank" rel="noopener noreferrer">@hirundos</a></p>
    </div>

    <div class="footer__right">
      <div class="footer__time" id="kaliningrad-time">
        <div class="time-date">
          <p  class="time" style="margin-bottom: 0;">--:--</p>
          <p style="margin-bottom: 0;">, </p>
          <p class="date" class="body" style="margin-bottom: 0;">--.--.----</p>
        </div>
        <div class="footer__weather" id="weather-info">
         <p>Калининград, </p>
          <p class="weather-desc">--</p>
          <p> </p>
          <p class="weather-temp">--°C</p>
        </div>
      </div>
    </div>
  </div>
</footer>

    <script src="../../lib/photoswipe.umd.min.js"></script>
    <script src="../../lib/photoswipe-lightbox.umd.min.js"></script>
    <script type="module">
      /**
       * @param {HTMLDivElement} node
       */
      const photoSwipeSize = (node) => {
        // get image tag inside of node
        if (node.hasAttribute("data-pswp-width") && node.hasAttribute("data-pswp-height")) {
          return;
        }
        /** @type {HTMLImageElement | null} */
        const img = node.querySelector("img");
        if (!img) {
          return;
        }
        let i = new Image();
        i.onload = () => {
          node.setAttribute("data-pswp-width", i.width.toString());
          node.setAttribute("data-pswp-height", i.height.toString());
        };
        i.src = img.src;
      };

      class IdsGallery extends HTMLElement {
        constructor() {
          super();
          this.classList.add("ids__gallery");
        }

        connectedCallback() {
          this.lightbox = new PhotoSwipeLightbox({
            gallery: this,
            children: "a",
            pswpModule: PhotoSwipe,
            padding: { top: 20, bottom: 40, left: 100, right: 100 },
          });

          this.lightbox.on("uiRegister", () => {
            if (!this.getAttribute("zoom") && this.lightbox?.pswp?.ui?.uiElementsData?.length) {
              this.lightbox.pswp.ui.uiElementsData = this.lightbox.pswp.ui.uiElementsData.filter((el) => el.name !== "zoom");
            }
          });

          this.lightbox.init();

          this.querySelectorAll("a").forEach(photoSwipeSize);
        }

        disconnectedCallback() {
          this.lightbox.destroy();
        }
      }

      window.customElements.define("ids-gallery", IdsGallery);
    </script>

    <script>
      let observer = new IntersectionObserver((elements)=>{
        elements.forEach((el) => {
          if(el.intersectionRatio > .2) {
            el.target.classList.remove("sleeping");
          } else {
            el.target.classList.add("sleeping");
          }
        })
      }, {threshold: [0, .2]});

      document.querySelectorAll('.sleepy').forEach(el => {
        observer.observe(el);
      })
    </script>
    <script>
      class IdsNavbar extends HTMLElement {
        static #items = [];
        static #instances = [];

        constructor() {
          super();
          this.classList.add("ids__navbar");
          this.render();
        }

        static updateItems() {
          // Сейчас оно будет запускаться слишком часто, нужно будет переделать
          this.#items = [...document.querySelectorAll(".ids__nav-item")];
          for (const instance of this.#instances) {
            instance.render();
          }
          this.updateCurrent();
        }

        static updateCurrent() {
          let highestTopPositionIndex = 0;
          for (let i = 0; i < this.#items.length; i++) {
            let { bottom, top } = this.#items[i].getBoundingClientRect() ?? {
              top: 0,
              bottom: 0,
            };
            let topPosition = (top + bottom) / 2;
            if (topPosition < 0) {
              highestTopPositionIndex = i;
            }
            if (topPosition >= 0 && topPosition < window.innerHeight / 2) {
              highestTopPositionIndex = i;
              break;
            }
          }
          let id = this.#items[highestTopPositionIndex].getAttribute("id");
          history.replaceState({}, "", `#${id}`);
          for (const instance of this.#instances) {
            for (const /** @type {HTMLElement} */ li of instance.querySelectorAll("li:has(a)")) {
              li.classList.toggle("current", li.firstElementChild.getAttribute("href") === "#" + id);
            }
          }
        }

        connectedCallback() {
          IdsNavbar.#instances.push(this);
        }

        disconnectedCallback() {
          IdsNavbar.#instances.splice(IdsNavbar.#instances.indexOf(this), 1);
        }

        render() {
          // Тут стоит делать через манипуляции с dom и не пересоздавать одни и те же записи по 100 раз
          this.innerHTML = `
            <ul>
                ${IdsNavbar.#items
                  .map(
                    (item) => `
                    <li>
                        <a href="#${item.getAttribute("id")}">
                            ${item.getAttribute("label")}
                        </a>
                    </li>
                `
                  )
                  .join("")}
            </ul>
          `;
        }
      }

      // TODO можно добавлять/убирать этот лисенер
      document.addEventListener("scroll", () => IdsNavbar.updateCurrent());

      class IdsNavItem extends HTMLElement {
        constructor() {
          super();
          this.classList.add("ids__nav-item");
        }

        connectedCallback() {
          IdsNavbar.updateItems();
        }
        disconnectedCallback() {
          IdsNavbar.updateItems();
        }
      }

      window.customElements.define("ids-navbar", IdsNavbar);
      window.customElements.define("ids-nav-item", IdsNavItem);
    </script>
  </body>
</html>
