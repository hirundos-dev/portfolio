<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Palka UI-kit / Портфолио Андрей Лынник</title>
    <link rel="icon" type="image/png" href="../../images/favicon-inverted.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../css/colors.css" />
    <link rel="stylesheet" href="../../css/normalize.css" />
    <link rel="stylesheet" href="../../css/settings.css" />
    <link rel="stylesheet" href="../../css/layout.css" />
    <link rel="stylesheet" href="../../css/ids.css" />
    <link rel="stylesheet" href="../../css/gallery.css" />
    <link rel="stylesheet" href="../../css/navbar.css" />
    <!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=104377141', 'ym');

    ym(104377141, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/104377141" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  </head>

  <body class="ids">
     <header class="topbar">
      <div class="topbar__container">
        <div class="topbar__name"><a style="color: inherit; text-decoration: none; " href="../../index.html">Андрей Лынник</a></div>
       <!--  <div class="topbar__telegram">
          <a href="https://t.me/hirundos" target="_blank" rel="noopener noreferrer">Телеграм</a>-->
        </div>
      </div>
    </header>

    <main>
      <div class="ids__wrapper">
        <div class="section " id="intro">
          <div class="ids__space L"></div>
          <div class="ids__text-width">
            <ids-nav-item id="intro" label="Интро">
              <h2>Palka UI-kit — библиотека компонентов для&#160;ускорения работы над&#160;проектами</h2>
              </ids-nav-item>
            <div class="ids__space S"></div>

          
            <ids-navbar></ids-navbar>
            </div>
          <figure>
           
                <img src="assets/main.png" style="border-radius: 1em;">
            
            </figure>
        </div>


        <ids-nav-item id="info" label="Описание"></ids-nav-item>
        <div class="section sleepy sleeping" id="block-1">
          <div class="ids__space L"></div>
          <div class="ids__text-width">
            
            <h3>Контекст</h3>
            <p>При работе над каждым новым проектом тратишь время на создание элементов интерфейса и стилей с нуля. Если пытаешься использовать чужие готовые компоненты, сталкиваешься со сложностями начиная от нейминга и заканчивая структурой. В итоге тратишь время впустую.</p>
            <div class="ids__space L"></div> 
            <h3>Идея</h3>
            <p>А что если собрать собственный UI-кит с универсальными правилами и возможностью масштабирования, можно ли сократить время работы над проектом?</p>
            <div class="ids__space L"></div> 
            <h3>Что было сделано</h3>
            <p>Провел анализ действующих дизайн-систем и доступных UI-китов из Figma Community, по результатам которого появилось понимание примерной структуры UI-кита.</p>
            <div class="ids__space S"></div>
            <div class="ids__sequence XL gap-M">

              <div class="ids__sequence-item">
                <h5>Основные элементы:</h5>
                <ul>
                  <li>цвет;</li>
                  <li>типографика;</li>
                  <li>иконки;</li>
                  <li>компоненты.</li>
                </ul>
              </div>
          
              <div class="ids__sequence-item">
                <h5>Дополнительные элементы:</h5>
                <ul>
                  <li>тени;</li>
                  <li>расстояния и скругления;</li>
                  <li>сетка;</li>
                  <li>плагины.</li>
                </ul>
              </div>
            </div> 
          </div>
        </div>
          
        <div class="section sleepy sleeping" id="block-2">
          <div class="ids__space L"></div> 
          <div class="ids__text-width ">
            
            <h3>Результат</h3>
            <p>Понравилось название Palka. Палка с древних времен самый доступный предмет, её можно использовать в качестве инструмента, оружия или игрушки. Это название коррелирует с концепцией проекта — простота и универсальность.<br><br>Теперь прототипирование, создание стилей и кастомизация компонентов для проекта происходит быстрее, минимальная разница составила 2 часа.</p>
           <div class="ids__space"></div>
          <a href="https://www.figma.com/community/file/1236297009994552407" target="_BLANK">Palka UI в Community Figma</a></div>
        </div>
          

<ids-nav-item id="Images" label="Картинки"></ids-nav-item>
<div class="section sleepy sleeping" id="block-3">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Цветовая система</h5>
          <p>Поскольку UI-кит подразумевается как универсальный инструмент, его цветовая система должна подстраиваться и масштабироваться под каждый проект с минимальными затратами по времени.</p></div>
            <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-01.avif" style="border-radius: 1em;">
          </figure>
</div>
      
<div class="section sleepy sleeping" id="block-4">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Типографика</h5>
          <p>Текстовые стили составляем от самого крупного кегля до маленького.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-02.png" style="border-radius: 1em;">
          </figure>
</div>

<div class="section sleepy sleeping" id="block-5">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Иконки</h5>
          <p>Используем open-source интерфейсные иконки Feathericons. Если не подойдет, то есть много других хороших open-source иконок.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-03.png" style="border-radius: 1em;">
          </figure>
</div>

<div class="section sleepy sleeping" id="block-6">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Компоненты</h5>
          <p>Выбрал основные элементы интерфейса, которые встречаются в большинстве проектов.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-04.webp" style="border-radius: 1em;">
          </figure>
</div>

<div class="section sleepy sleeping" id="block-7">
          <div class="ids__space XL"></div>
          
          <div class="ids__text-width ">
          <h5>Остальное</h5>
          <p>Также определил выделил основные правила для теней, расстояний, скруглений и сетки.</p></div>
          <div class="ids__space S"></div>
          <figure>
          <img src="assets/img-05.webp" style="border-radius: 1em;">
          </figure>
</div>


        <div class="ids__space XL"></div>
        <div class="project-navigation">
  <a href="..\project-1\index.html" class="project-card prev">
    <div class="label">
    <svg class="" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path transform="rotate(180 12 12)" d="M13.4681 6.25911C13.1437 6.579 13.1132 7.08447 13.3792 7.43913L13.4591 7.53187L16.95 11.1L4.9 11.1C4.40294 11.1 4 11.5029 4 12C4 12.4588 4.34334 12.8375 4.78711 12.893L4.9 12.9H16.95L13.4591 16.4681C13.1392 16.7926 13.116 17.2984 13.3869 17.6493L13.4681 17.7409C13.7926 18.0608 14.2985 18.084 14.6493 17.8131L14.7409 17.7319L19.7409 12.6319C20.0576 12.3107 20.084 11.8109 19.8201 11.4599L19.7409 11.3681L14.7409 6.26813C14.3919 5.91418 13.8221 5.91014 13.4681 6.25911Z"></path></svg>
     
      Назад
    </div>
    <div class="project-name">Медрег39</div>
  </a>

  <a href="../../index.html" class="project-card next">
    <div class="label">
      Далее
      <svg class="" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.4681 6.25911C13.1437 6.579 13.1132 7.08447 13.3792 7.43913L13.4591 7.53187L16.95 11.1L4.9 11.1C4.40294 11.1 4 11.5029 4 12C4 12.4588 4.34334 12.8375 4.78711 12.893L4.9 12.9H16.95L13.4591 16.4681C13.1392 16.7926 13.116 17.2984 13.3869 17.6493L13.4681 17.7409C13.7926 18.0608 14.2985 18.084 14.6493 17.8131L14.7409 17.7319L19.7409 12.6319C20.0576 12.3107 20.084 11.8109 19.8201 11.4599L19.7409 11.3681L14.7409 6.26813C14.3919 5.91418 13.8221 5.91014 13.4681 6.25911Z">
        </path></svg>
    </div>
    <div class="project-name">Главная страница</div>
  </a>
</div>
      
    </div>
    </main>
<script src="../../lib/kaliningrad-time-weather.js" defer></script>

    <footer class="footer">
  <div class="footer__container">
    <div class="footer__left">
      <span>Андрей Лынник</span>
      <p id="text23">Борюсь и ищу, нахожу и не сдаюсь</p>
    </div>

    <div class="footer__right">
      <div class="more-contacts">
        <a href="https://t.me/hirundos" target="_blank" rel="noopener noreferrer"><div class="icon-contact" id="telegram"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M1.64987 10.6099C8.09231 7.78741 12.3883 5.92667 14.5378 5.02765C20.675 2.46077 21.9503 2.01488 22.7815 2.00016C22.9643 1.99692 23.3731 2.04248 23.6379 2.25852C23.8614 2.44094 23.9229 2.68737 23.9524 2.86033C23.9818 3.03328 24.0185 3.42728 23.9893 3.73514C23.6568 7.249 22.2177 15.7762 21.4856 19.7118C21.1758 21.3771 20.5658 21.9354 19.9753 21.9901C18.6919 22.1088 17.7174 21.1372 16.4744 20.3179C14.5294 19.0358 13.4305 18.2377 11.5425 16.9867C9.36064 15.5408 10.7751 14.7462 12.0185 13.4475C12.344 13.1076 17.9985 7.93584 18.1079 7.46668C18.1216 7.40801 18.1343 7.18929 18.0051 7.0738C17.8759 6.95831 17.6851 6.9978 17.5475 7.02921C17.3524 7.07373 14.2452 9.1389 8.22584 13.2247C7.34386 13.8337 6.545 14.1304 5.82924 14.1149C5.04018 14.0977 3.52233 13.6663 2.39397 13.2974C1.00999 12.8451 -0.0899676 12.6059 0.00581423 11.8376C0.0557033 11.4374 0.603723 11.0282 1.64987 10.6099Z" fill="#BDBDBD"/>
        </svg></div></a>

         <a href="https://ru.pinterest.com/hirundos/" target="_blank" rel="noopener noreferrer"><div class="icon-contact" id="pinterest"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_2323_3068)"> <path d="M7.54711 23.1317C7.39828 21.7693 7.50391 20.4645 7.80157 19.2029L9.00182 14.0316C8.80499 13.4032 8.65616 12.6836 8.65616 11.964C8.65616 10.285 9.46751 9.08575 10.7398 9.08575C11.6231 9.08575 12.2713 9.69977 12.2713 10.8847C12.2713 11.2589 12.1945 11.681 12.0456 12.1607L11.5223 13.8828C11.4167 14.2139 11.3735 14.5257 11.3735 14.7991C11.3735 15.9984 12.2905 16.6748 13.4571 16.6748C15.5407 16.6748 17.029 14.5161 17.029 11.7146C17.029 8.59644 14.9886 6.60084 11.9736 6.60084C8.61293 6.60084 6.48131 8.78832 6.48131 11.8345C6.48131 13.0626 6.85579 14.2043 7.59035 14.9813C7.35029 15.3844 7.09583 15.4611 6.70696 15.4611C5.50672 15.4611 4.36408 13.7677 4.36408 11.4603C4.36408 7.47393 7.56152 4.29343 12.0456 4.29343C16.7554 4.29343 19.7128 7.57467 19.7128 11.6234C19.7128 15.7009 16.8322 18.7616 13.726 18.7616C12.4969 18.7616 11.4167 18.2387 10.663 17.2936L10.0484 19.7833C9.71718 21.0737 9.22265 22.2875 8.4257 23.4579C9.54914 23.8033 10.663 24 11.9976 24C18.6277 24 24 18.632 24 12.0072C24 5.38236 18.6326 0 12.0024 0C5.37229 0 0 5.36799 0 11.9928C0 17.0155 3.09184 21.3472 7.54711 23.1317Z" fill="#BDBDBD"/>
</g><defs><clipPath id="clip0_2323_3068"><rect width="24" height="24" fill="white"/></clipPath></defs></svg></div></a>

        <a href="https://raindrop.io/hirundos" target="_blank" rel="noopener noreferrer"><div class="icon-contact" id="raindrop"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.6501 4.85007C18.4178 5.61758 19.0213 6.53332 19.4238 7.54152C19.8263 8.54972 20.0194 9.62928 19.9913 10.7145C19.9632 11.7997 19.7146 12.8679 19.2605 13.8539C18.8064 14.8399 18.1564 15.7233 17.3501 16.4501L12.0001 21.5001L6.65007 16.5001L6.35007 16.1501C5.54697 15.4224 4.9001 14.5391 4.4487 13.5539C3.9973 12.5687 3.75078 11.502 3.7241 10.4186C3.69743 9.33519 3.89115 8.25767 4.29352 7.25141C4.69589 6.24515 5.29852 5.33113 6.06483 4.56483C6.83113 3.79852 7.74515 3.19589 8.75141 2.79352C9.75767 2.39115 10.8352 2.19743 11.9186 2.2241C13.002 2.25078 14.0687 2.4973 15.0539 2.9487C16.0391 3.4001 16.9224 4.04698 17.6501 4.85007Z" fill="#BDBDBD"/>
<path d="M6 9.5C7.5913 9.5 9.11742 10.1321 10.2426 11.2574C11.3679 12.3826 12 13.9087 12 15.5V21.5H6C4.4087 21.5 2.88258 20.8679 1.75736 19.7426C0.632141 18.6174 0 17.0913 0 15.5C0 13.9087 0.632141 12.3826 1.75736 11.2574C2.88258 10.1321 4.4087 9.5 6 9.5V9.5Z" fill="#BABABA"/>
<mask id="mask0_2323_3071" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="9" width="12" height="13">
<path d="M6 9.5C7.5913 9.5 9.11742 10.1321 10.2426 11.2574C11.3679 12.3826 12 13.9087 12 15.5V21.5H6C4.4087 21.5 2.88258 20.8679 1.75736 19.7426C0.632141 18.6174 0 17.0913 0 15.5C0 13.9087 0.632141 12.3826 1.75736 11.2574C2.88258 10.1321 4.4087 9.5 6 9.5V9.5Z" fill="#BABABA"/>
</mask><g mask="url(#mask0_2323_3071)"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.6501 4.85007C18.4178 5.61758 19.0213 6.53332 19.4238 7.54152C19.8263 8.54972 20.0194 9.62929 19.9913 10.7145C19.9632 11.7997 19.7146 12.8679 19.2605 13.8539C18.8064 14.8399 18.1564 15.7233 17.3501 16.4501L12.0001 21.5001L6.65007 16.5001L6.35007 16.1501C5.54697 15.4224 4.9001 14.5391 4.4487 13.5539C3.9973 12.5687 3.75078 11.502 3.7241 10.4186C3.69743 9.33519 3.89115 8.25767 4.29352 7.25141C4.69589 6.24515 5.29852 5.33113 6.06483 4.56483C6.83113 3.79852 7.74515 3.19589 8.75141 2.79352C9.75767 2.39115 10.8352 2.19743 11.9186 2.2241C13.002 2.25078 14.0687 2.4973 15.0539 2.9487C16.0391 3.4001 16.9224 4.04698 17.6501 4.85007Z" fill="#8B8B8B"/>
</g><path d="M12 21.5V15.35C12.0295 14.1701 12.4063 13.0252 13.0833 12.0584C13.7603 11.0917 14.7073 10.346 15.8059 9.91482C16.9046 9.4836 18.106 9.38598 19.2598 9.63415C20.4136 9.88233 21.4686 10.4653 22.2928 11.3101C23.117 12.1548 23.6737 13.2239 23.8933 14.3835C24.1129 15.5431 23.9857 16.7418 23.5275 17.8294C23.0693 18.9171 22.3005 19.8454 21.3173 20.4983C20.3341 21.1512 19.1802 21.4996 18 21.5H12Z" fill="#8D8D8D"/>
<mask id="mask1_2323_3071" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="12" y="9" width="12" height="13">
<path d="M12 21.5V15.35C12.0295 14.1701 12.4063 13.0252 13.0833 12.0584C13.7603 11.0917 14.7073 10.346 15.8059 9.91482C16.9046 9.4836 18.106 9.38598 19.2598 9.63415C20.4136 9.88233 21.4686 10.4653 22.2928 11.3101C23.117 12.1548 23.6737 13.2239 23.8933 14.3835C24.1129 15.5431 23.9857 16.7418 23.5275 17.8294C23.0693 18.9171 22.3005 19.8454 21.3173 20.4983C20.3341 21.1512 19.1802 21.4996 18 21.5H12Z" fill="#8D8D8D"/>
</mask><g mask="url(#mask1_2323_3071)"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.6501 4.85007C18.4178 5.61758 19.0213 6.53332 19.4238 7.54152C19.8263 8.54972 20.0194 9.62929 19.9913 10.7145C19.9632 11.7997 19.7146 12.8679 19.2605 13.8539C18.8064 14.8399 18.1564 15.7233 17.3501 16.4501L12.0001 21.5001L6.65007 16.5001L6.35007 16.1501C5.54698 15.4224 4.9001 14.5391 4.4487 13.5539C3.9973 12.5687 3.75078 11.502 3.7241 10.4186C3.69743 9.33519 3.89115 8.25767 4.29352 7.25141C4.69589 6.24515 5.29852 5.33113 6.06483 4.56483C6.83113 3.79852 7.74515 3.19589 8.75141 2.79352C9.75767 2.39115 10.8352 2.19743 11.9186 2.2241C13.002 2.25078 14.0687 2.4973 15.0539 2.9487C16.0391 3.4001 16.9224 4.04698 17.6501 4.85007Z" fill="#BDBDBD"/>
</g></svg></div></a>

        <a href="https://github.com/hirundos-dev" target="_blank" rel="noopener noreferrer"><div class="icon-contact" id="github"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_2323_3086)"><path d="M12 0C5.37055 0 0 5.50644 0 12.3036C0 17.7475 3.43527 22.3468 8.20473 23.9765C8.80473 24.0838 9.02946 23.7158 9.02946 23.3926C9.02946 23.0995 9.01527 22.1309 9.01527 21.1008C6 21.6701 5.22 20.3469 4.98 19.6556C4.84473 19.3011 4.26 18.2094 3.75055 17.9175C3.33055 17.6859 2.72945 17.1177 3.73527 17.1021C4.68 17.0864 5.35527 17.9935 5.58 18.3638C6.66 20.2238 8.38473 19.7015 9.07527 19.3782C9.18 18.5785 9.49527 18.0405 9.84 17.7329C7.16946 17.4253 4.38 16.3639 4.38 11.6571C4.38 10.3194 4.84473 9.21208 5.61055 8.35082C5.48945 8.04323 5.06945 6.78267 5.73055 5.09036C5.73055 5.09036 6.73527 4.76822 9.02946 6.35204C10.0063 6.07415 11.0157 5.93453 12.0295 5.93707C13.0505 5.93707 14.0705 6.07465 15.0295 6.35204C17.3247 4.75256 18.3295 5.09036 18.3295 5.09036C18.9895 6.78267 18.5705 8.04323 18.4505 8.35082C19.2153 9.21208 19.68 10.3049 19.68 11.6571C19.68 16.3795 16.8753 17.4253 14.2047 17.7329C14.64 18.1177 15.0153 18.8559 15.0153 20.0091C15.0153 21.6544 15 22.9776 15 23.3926C15 23.7158 15.2247 24.0995 15.8247 23.9765C20.5647 22.3468 24 17.7329 24 12.3036C24 5.50644 18.6305 0 12 0Z" fill="#BDBDBD"/>
</g><defs><clipPath id="clip0_2323_3086"><rect width="24" height="24" fill="white"/></clipPath></defs></svg></div></a>

        <a href="https://t.me/s/thinkpause" target="_blank" rel="noopener noreferrer"><div class="icon-contact" id="blog"><svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.74557 1.15885C8.74557 1.15885 9.53985 0.739458 9.10156 1.26359C7.21443 3.52035 6.16992 5.21203 5.06375 7.94884C4.96206 8.5254 4.96199 9.46897 5.77546 9.88829C6.79229 10.4124 7.70756 9.52144 10.6564 11.7752C10.9109 11.775 13.0459 10.4646 13.7576 9.2068L16.3831 4.43014C16.5473 4.13144 16.88 4.29959 16.7493 4.6154C16.1241 6.12607 15.537 7.58292 15.537 7.89661C15.5371 8.57788 15.9439 8.68264 16.5031 8.57782C16.7515 8.53126 18.1177 7.70228 19.5975 6.79154C19.8856 6.61423 20.1237 6.97651 19.858 7.18764L17.3167 9.2068L15.1813 11.0937C15.1813 11.0937 14.9268 12.4044 14.6728 13.1902C14.4186 13.9764 13.9101 14.8151 13.9101 14.8151C14.5372 15.6887 15.1813 17.2261 16.5031 17.9075C18.4937 18.9336 23.5153 15.0006 24 16C24.4993 17.0304 20.3717 19.4755 19.8588 20.0042C19.7062 20.1615 17.8249 22.1007 15.9946 21.9959C14.1643 21.891 10.453 20.633 8.97856 19.2702C7.70751 20.2661 6.58894 20.2662 6.08052 20.2662C5.67377 20.2662 4.01298 19.9167 3.2334 19.742C2.87751 19.742 2.28772 19.7944 2.1657 19.5847C2.01331 19.3226 2.52169 18.9035 2.52169 18.9035C2.52169 18.9035 2.46663 18.3103 2.62329 17.8028C2.97631 16.6592 4.84801 15.6604 4.86029 15.6539C4.38576 15.0948 2.8047 13.7892 2.1657 13.3999C1.04718 12.7185 0.753232 10.6092 1.1996 9.2068C2.26465 5.86057 8.71096 1.18479 8.74557 1.15885ZM8.52098 18.956C8.0973 18.5018 6.79225 17.8552 5.31787 19.5847C5.25075 19.6635 6.48729 20.5284 8.52098 18.956ZM12.5883 13.5047C12.7578 13.889 13.2188 14.6264 13.5035 14.5006C13.7883 14.3744 14.571 12.4563 14.7235 11.1985L12.5883 13.5047Z" fill="#BDBDBD"/>
</svg></div></a>


      </div>
      
      <div class="footer_time_weather">
        <p> <span id="time">--:--</span>, Калининград, <span id="weather-desc">--</span> <span id="weather-temp">--°C</span>
      </div>
    </div>
  </div>
  <div class="ids__space L"></div>
  <div class="version-box"> 
    <p>Сделано с душой, версия 1.4.0 от 13.10.2025</p>
  </div>
</footer>

    <script src="../../lib/photoswipe.umd.min.js"></script>
    <script src="../../lib/photoswipe-lightbox.umd.min.js"></script>
    <script type="module">
      /**
       * @param {HTMLDivElement} node
       */
      const photoSwipeSize = (node) => {
        // get image tag inside of node
        if (node.hasAttribute("data-pswp-width") && node.hasAttribute("data-pswp-height")) {
          return;
        }
        /** @type {HTMLImageElement | null} */
        const img = node.querySelector("img");
        if (!img) {
          return;
        }
        let i = new Image();
        i.onload = () => {
          node.setAttribute("data-pswp-width", i.width.toString());
          node.setAttribute("data-pswp-height", i.height.toString());
        };
        i.src = img.src;
      };

      class IdsGallery extends HTMLElement {
        constructor() {
          super();
          this.classList.add("ids__gallery");
        }

        connectedCallback() {
          this.lightbox = new PhotoSwipeLightbox({
            gallery: this,
            children: "a",
            pswpModule: PhotoSwipe,
            padding: { top: 20, bottom: 40, left: 100, right: 100 },
          });

          this.lightbox.on("uiRegister", () => {
            if (!this.getAttribute("zoom") && this.lightbox?.pswp?.ui?.uiElementsData?.length) {
              this.lightbox.pswp.ui.uiElementsData = this.lightbox.pswp.ui.uiElementsData.filter((el) => el.name !== "zoom");
            }
          });

          this.lightbox.init();

          this.querySelectorAll("a").forEach(photoSwipeSize);
        }

        disconnectedCallback() {
          this.lightbox.destroy();
        }
      }

      window.customElements.define("ids-gallery", IdsGallery);
    </script>

    <script>
      let observer = new IntersectionObserver((elements)=>{
        elements.forEach((el) => {
          if(el.intersectionRatio > .2) {
            el.target.classList.remove("sleeping");
          } else {
            el.target.classList.add("sleeping");
          }
        })
      }, {threshold: [0, .2]});

      document.querySelectorAll('.sleepy').forEach(el => {
        observer.observe(el);
      })
    </script>
    <script>
      class IdsNavbar extends HTMLElement {
        static #items = [];
        static #instances = [];

        constructor() {
          super();
          this.classList.add("ids__navbar");
          this.render();
        }

        static updateItems() {
          // Сейчас оно будет запускаться слишком часто, нужно будет переделать
          this.#items = [...document.querySelectorAll(".ids__nav-item")];
          for (const instance of this.#instances) {
            instance.render();
          }
          this.updateCurrent();
        }

        static updateCurrent() {
          let highestTopPositionIndex = 0;
          for (let i = 0; i < this.#items.length; i++) {
            let { bottom, top } = this.#items[i].getBoundingClientRect() ?? {
              top: 0,
              bottom: 0,
            };
            let topPosition = (top + bottom) / 2;
            if (topPosition < 0) {
              highestTopPositionIndex = i;
            }
            if (topPosition >= 0 && topPosition < window.innerHeight / 2) {
              highestTopPositionIndex = i;
              break;
            }
          }
          let id = this.#items[highestTopPositionIndex].getAttribute("id");
          history.replaceState({}, "", `#${id}`);
          for (const instance of this.#instances) {
            for (const /** @type {HTMLElement} */ li of instance.querySelectorAll("li:has(a)")) {
              li.classList.toggle("current", li.firstElementChild.getAttribute("href") === "#" + id);
            }
          }
        }

        connectedCallback() {
          IdsNavbar.#instances.push(this);
        }

        disconnectedCallback() {
          IdsNavbar.#instances.splice(IdsNavbar.#instances.indexOf(this), 1);
        }

        render() {
          // Тут стоит делать через манипуляции с dom и не пересоздавать одни и те же записи по 100 раз
          this.innerHTML = `
            <ul>
                ${IdsNavbar.#items
                  .map(
                    (item) => `
                    <li>
                        <a href="#${item.getAttribute("id")}">
                            ${item.getAttribute("label")}
                        </a>
                    </li>
                `
                  )
                  .join("")}
            </ul>
          `;
        }
      }

      // TODO можно добавлять/убирать этот лисенер
      document.addEventListener("scroll", () => IdsNavbar.updateCurrent());

      class IdsNavItem extends HTMLElement {
        constructor() {
          super();
          this.classList.add("ids__nav-item");
        }

        connectedCallback() {
          IdsNavbar.updateItems();
        }
        disconnectedCallback() {
          IdsNavbar.updateItems();
        }
      }

      window.customElements.define("ids-navbar", IdsNavbar);
      window.customElements.define("ids-nav-item", IdsNavItem);
    </script>
  </body>
</html>
